{
  "id": "d825bbfc-5bc0-4bba-a68d-5502bd4b7df0",
  "prefix": "Enable_XP_CMDshell_MSG_15281",
  "description": "Enable xp_CMDshell MSG 15281",
  "body": "/* =============================================================================================================================================================\r\n-- Database\t\t: master\r\n-- Script\t\t: Enable_XP_CMDshell_MSG_15281\r\n-- Error\t\t: MSG 15281\r\n\t\t\t\t: SQL Server blocked access to procedure 'sys.xp_cmdshell' of component 'xp_cmdshell',\r\n\t\t\t\t\tBecause this component is turned off as part of the security configuration for this server.\r\n\t\t\t\t\tA system administrator can enable the use of 'xp_cmdshell' by using sp_configure.\r\n-- Description\t: The xp_cmdshell option enables to control whether the xp_cmdshell extended stored procedure can be executed on a system.\r\n\t\t\t\t\tBy default, the xp_cmdshell option is disabled on new installations.\r\n-- Usage\t\t: It can be enabled by using the Policy-Based Management or by running the sp_configure system stored procedure.\r\n============================================================================================================================================================= */\r\nUSE master;\r\nGO\r\n\r\n-- To Turn ON Advanced Options\r\nEXEC sys.sp_configure @configname = 'show advanced options', @configvalue = '1';\r\nRECONFIGURE;\r\n\r\n-- To Enable xp_cmdshell\r\nEXEC sys.sp_configure @configname = 'xp_cmdshell', @configvalue = '1';\r\nRECONFIGURE;\r\n\r\n-- To Turn OFF Advanced Options\r\nEXEC sys.sp_configure @configname = 'show advanced options', @configvalue = '0';\r\nRECONFIGURE;"
}