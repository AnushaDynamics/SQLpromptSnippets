{
  "id": "7b9765d9-9326-40ea-b502-b980f2e1427d",
  "prefix": "Get_ObjectDefinitions_all_sql_modules_Readable",
  "description": "Get the Definition of Objects as Created (i.e, Comments in Definition Will Not Break the Readability of Code)",
  "body": "/* =============================================================================================================================================================\r\n-- Script\t\t: Get_ObjectDefinitions_all_sql_modules_Readable\r\n-- Description\t: Get the Definition of Objects as Created(i.e, Comments in Definition Will Not Break the Readability of Code)\r\n-- Usage\t\t: Get Object Definitions as Clickable Format for sys.all_objects.type IN ( 'V ', 'P ', 'FN', 'IF',  'TF', 'TR' )\r\n\t--AO.type = 'V ' => type_desc = N'VIEW'\r\n\t--AO.type = 'P ' => type_desc = N'SQL_STORED_PROCEDURE'\r\n\t--AO.type = 'FN' => type_desc = N'SQL_SCALAR_FUNCTION'\r\n\t--AO.type = 'IF' => type_desc = N'SQL_INLINE_TABLE_VALUED_FUNCTION'\r\n\t--AO.type = 'TF' => type_desc = N'SQL_TABLE_VALUED_FUNCTION'\r\n\t--AO.type = 'TR' => type_desc = N'SQL_TRIGGER'\r\n-- History\t\t:\r\n-- Refer Links\t: https://jasonbrimhall.info/2020/02/12/top-3-database-life-hacks/\r\n============================================================================================================================================================= */\r\nSELECT OBJECT_NAME(ASM.object_id) AS \"Object_Name\", AO.type_desc AS \"Object_Type\",\r\n\t(SELECT REPLACE(\r\n\t\t\t\t\tREPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(\r\n\t\t\t\t\tREPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(\r\n\t\t\t\t\tCONVERT(NVARCHAR(MAX), N'--' + NCHAR(13) + NCHAR(10) + ASM.definition + NCHAR(13) + NCHAR(10) + N'--' COLLATE Latin1_General_Bin2)\r\n\t\t\t\t\t\t,NCHAR(31),N'?'),NCHAR(30),N'?'),NCHAR(29),N'?'),NCHAR(28),N'?'),NCHAR(27),N'?'),NCHAR(26),N'?'),NCHAR(25),N'?')\r\n\t\t\t\t\t\t,NCHAR(24),N'?'),NCHAR(23),N'?'),NCHAR(22),N'?'),NCHAR(21),N'?'),NCHAR(20),N'?'),NCHAR(19),N'?'),NCHAR(18),N'?')\r\n\t\t\t\t\t\t,NCHAR(17),N'?'),NCHAR(16),N'?'),NCHAR(15),N'?'),NCHAR(14),N'?'),NCHAR(12),N'?'),NCHAR(11),N'?'),NCHAR(8),N'?')\r\n\t\t\t\t\t\t,NCHAR(7),N'?'),NCHAR(6),N'?'),NCHAR(5),N'?'),NCHAR(4),N'?'),NCHAR(3),N'?'),NCHAR(2),N'?'),NCHAR(1),N'?'),NCHAR(0),N''\r\n\t\t\t\t   ) AS [processing-instruction(query)]\r\n\t\t\t\t   FOR XML PATH(''), TYPE) AS \"Object_Definition\"\r\nFROM sys.all_sql_modules AS ASM\r\nINNER JOIN  sys.all_objects AS AO ON AO.object_id = ASM.object_id\r\nWHERE 1 = 1\r\n\tAND OBJECTPROPERTY(AO.object_id, 'IsMsShipped') = 0 --Exclude MS Objects\r\n\tAND OBJECT_SCHEMA_NAME(AO.object_id) <> 'sys' --To Avoid \"sys\" schema\r\n\tAND AO.type IN ( 'V', 'P', 'FN', 'IF',  'TF', 'TR' )\r\n\tAND OBJECT_NAME(ASM.object_id) LIKE '%%';"
}