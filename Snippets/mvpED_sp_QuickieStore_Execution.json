{
  "id": "b1b7786b-3e8a-4f91-ab05-a2649259d592",
  "prefix": "mvpED_sp_QuickieStore_Execution",
  "description": "This tool script was written to as a companion to sp_QuickieStore",
  "body": "--Get help!\r\nEXEC dbo.sp_QuickieStore\r\n    @help = 1;\r\n\r\n\r\n--Find top 10 sorted by memory \r\nEXEC dbo.sp_QuickieStore\r\n    @database_name = 'StackOverflow2013',\r\n    @sort_order = 'memory',\r\n    @top = 10;              \r\n\r\n\r\n--Search for specific query_ids\r\nEXEC dbo.sp_QuickieStore\r\n    @database_name = 'StackOverflow2013',\r\n    @top = 10,\r\n    @include_query_ids = '13977, 13978';    \r\n\r\n\r\n--Search for specific plan_ids\r\nEXEC dbo.sp_QuickieStore\r\n    @database_name = 'StackOverflow2013',\r\n    @sort_order = 'memory',\r\n    @top = 10,\r\n    @start_date = '20210320',\r\n    @include_plan_ids = '1896, 1897';\r\n\r\n    \r\n--Ignore for specific query_ids\r\nEXEC dbo.sp_QuickieStore\r\n    @database_name = 'StackOverflow2013',\r\n    @top = 10,\r\n    @ignore_query_ids = '13977, 13978';    \r\n\r\n\r\n--Ignore for specific plan_ids\r\nEXEC dbo.sp_QuickieStore\r\n    @database_name = 'StackOverflow2013',\r\n    @sort_order = 'memory',\r\n    @top = 10,\r\n    @start_date = '20210320',\r\n    @ignore_plan_ids = '1896, 1897'; \r\n\r\n\r\n--Search for queries within a date range\r\nEXEC dbo.sp_QuickieStore\r\n    @database_name = 'StackOverflow2013',\r\n    @sort_order = 'memory',\r\n    @top = 10,\r\n    @start_date = '20210320',\r\n    @end_date = '20210321';              \r\n\r\n\r\n--Search for queries with a minimum execution count\r\nEXEC dbo.sp_QuickieStore\r\n    @database_name = 'StackOverflow2013',\r\n    @top = 10,\r\n    @execution_count = 10;\r\n\r\n\r\n--Search for queries over a specific duration\r\nEXEC dbo.sp_QuickieStore\r\n    @database_name = 'StackOverflow2013',\r\n    @top = 10,\r\n    @duration_ms = 10000;\r\n\r\n\r\n--Search for a specific stored procedure\r\nEXEC dbo.sp_QuickieStore\r\n    @database_name = 'StackOverflow2013',\r\n    @procedure_name = 'top_percent_sniffer';   \r\n\r\n\r\n--Search for specific query tex\r\nEXEC dbo.sp_QuickieStore\r\n    @database_name = 'StackOverflow2013',\r\n    @query_text_search = 'WITH Comment'\r\n\r\n\r\n--Use expert mode to return additional columns\r\nEXEC dbo.sp_QuickieStore\r\n    @database_name = 'StackOverflow2013',\r\n    @sort_order = 'memory',\r\n    @top = 10,\r\n    @expert_mode = 1;              \r\n\r\n\r\n--Use format output to add commas to larger numbers\r\nEXEC dbo.sp_QuickieStore\r\n    @database_name = 'StackOverflow2013',\r\n    @sort_order = 'memory',\r\n    @top = 10,\r\n    @format_output = 1;\r\n\r\n\r\n--Use wait filter to search for queries responsible for high waits\r\nEXEC dbo.sp_QuickieStore\r\n    @database_name = 'StackOverflow2013',\r\n    @wait_filter = 'memory',\r\n    @sort_order = 'memory';\r\n\r\n\r\n--Troubleshoot performance\r\nEXEC dbo.sp_QuickieStore\r\n    @database_name = 'StackOverflow2013',\r\n    @troubleshoot_performance = 1;\r\n\r\n\r\n--Debug dynamic SQL and temp table contents\r\nEXEC dbo.sp_QuickieStore\r\n    @database_name = 'StackOverflow2013',\r\n    @debug = 1;"
}